# Merge Conflict Resolution

При слиянии веток `feature/discount-system` и `feature/loyalty-points` 
возник конфликт в файле `src/utils/pricing.ts`.

## Контекст веток

### feature/discount-system
Добавили систему скидок (процент от цены):
- Скидка применяется к базовой цене
- Скидка может быть 0-100%

### feature/loyalty-points  
Добавили списание баллов лояльности:
- Баллы конвертируются 1:1 в рубли
- Есть баланс баллов у пользователя

## Бизнес-требования (от Product Manager)

1. Скидки применяются к **базовой цене** (до любых других вычетов)
2. Баллы списываются **ПОСЛЕ** применения скидки
3. Финальная цена **не может быть меньше 0**
4. Баллы конвертируются **1:1** в рубли
5. Нельзя списать баллов **больше, чем есть** у пользователя
6. Нельзя списать баллов **больше, чем 50%** от цены после скидки

## Твоя задача

1. Посмотри файл `src/utils/pricing.ts` — там git merge conflict
2. Разреши конфликт, **объединив функциональность обеих веток**
3. Учти **ВСЕ 6 бизнес-требований**
4. Обнови return type, чтобы он содержал всю нужную информацию для UI
5. Объясни своё решение
