# –£—Ä–æ–≤–µ–Ω—å 5: –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏

–ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç **–ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**, **–º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π** –∏ **reasoning**, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–∫—É—â–∏–º –ª–æ–∫–∞–ª—å–Ω—ã–º LLM.

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á

| –ü—Ä–∏–Ω—Ü–∏–ø | –ü–æ—á–µ–º—É —ç—Ç–æ —Å–ª–æ–∂–Ω–æ –¥–ª—è LLM |
|---------|---------------------------|
| **Multi-file context** | LLM –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –≤ –ø—Ä–æ–º–ø—Ç–µ. –ù—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã, –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É |
| **Stateful execution** | –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã –≤ —Å–ª–µ–¥—É—é—â–µ–π |
| **Ambiguous requirements** | –ù—É–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –¥–µ–ª–∞—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è |
| **Debugging –±–µ–∑ —Å—Ç–µ–∫–∞** | –ù–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É –ø–æ —Å–∏–º–ø—Ç–æ–º—É, –±–µ–∑ —è–≤–Ω–æ–π –æ—à–∏–±–∫–∏ |
| **Non-obvious patterns** | –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ training data |
| **External dependencies** | –ù—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å API, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–¥–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç |

---

## –ó–∞–¥–∞—á–∞ 5.1: Multi-file Bug Hunt

### –û–ø–∏—Å–∞–Ω–∏–µ
–ë–∞–≥ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑-–∑–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤. –ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞:
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –±–∞–≥–∞
2. –ù–∞–π—Ç–∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
3. –ü–æ–Ω—è—Ç—å –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏
4. –ù–∞–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É
5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–∞–π–ª (–Ω–µ —Ç–æ—Ç, –≥–¥–µ —Å–∏–º–ø—Ç–æ–º!)

### TASK.md
```markdown
# Bug Report: –ö–æ—Ä–∑–∏–Ω–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–∞–ª—É—é—Ç—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–∞–µ—Ç—Å—è,
—Ö–æ—Ç—è –≤ localStorage –¥–∞–Ω–Ω—ã–µ –≤—Ä–æ–¥–µ –±—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

## –®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
1. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage ‚Äî –¥–∞–Ω–Ω—ã–µ —Ç–∞–º –µ—Å—Ç—å
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è, —Ö–æ—Ç—è –≤ localStorage –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- src/hooks/useLocalStorage.ts ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ –¥–ª—è localStorage
- src/context/CartContext.tsx ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ—Ä–∑–∏–Ω—ã
- src/components/CartIcon.tsx ‚Äî –∏–∫–æ–Ω–∫–∞ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- src/types/cart.ts ‚Äî —Ç–∏–ø—ã

## –ó–∞–¥–∞–Ω–∏–µ
1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤—Å–µ —Ñ–∞–π–ª—ã
2. –ù–∞–π–¥–∏ –ø—Ä–∏—á–∏–Ω—É –±–∞–≥–∞
3. –ò—Å–ø—Ä–∞–≤—å –µ—ë
4. –û–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É –±–∞–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª
```

### –§–∞–π–ª—ã –¥–ª—è –∑–∞–¥–∞—á–∏ (–∫–ª–∞–¥—É—Ç—Å—è –≤ sandbox)

**src/types/cart.ts**
```typescript
export interface CartItem {
  id: string;
  name: string;
  price: number;
  quantity: number;
  addedAt: Date;  // ‚Üê –ü–†–ò–ß–ò–ù–ê: Date –æ–±—ä–µ–∫—Ç –Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
}

export interface Cart {
  items: CartItem[];
  updatedAt: Date;
}
```

**src/hooks/useLocalStorage.ts**
```typescript
import { useState, useEffect } from 'react';

export function useLocalStorage<T>(key: string, initialValue: T): [T, (value: T) => void] {
  const [storedValue, setStoredValue] = useState<T>(() => {
    try {
      const item = window.localStorage.getItem(key);
      // –ü–∞—Ä—Å–∏–º JSON, –Ω–æ Date –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π!
      return item ? JSON.parse(item) : initialValue;
    } catch {
      return initialValue;
    }
  });

  const setValue = (value: T) => {
    setStoredValue(value);
    window.localStorage.setItem(key, JSON.stringify(value));
  };

  return [storedValue, setValue];
}
```

**src/context/CartContext.tsx**
```typescript
import { createContext, useContext, ReactNode, useCallback } from 'react';
import { useLocalStorage } from '../hooks/useLocalStorage';
import { Cart, CartItem } from '../types/cart';

interface CartContextType {
  cart: Cart;
  addItem: (item: Omit<CartItem, 'quantity' | 'addedAt'>) => void;
  getItemCount: () => number;
}

const defaultCart: Cart = { items: [], updatedAt: new Date() };

const CartContext = createContext<CartContextType | null>(null);

export function CartProvider({ children }: { children: ReactNode }) {
  const [cart, setCart] = useLocalStorage<Cart>('shopping-cart', defaultCart);

  const addItem = useCallback((newItem: Omit<CartItem, 'quantity' | 'addedAt'>) => {
    const existingIndex = cart.items.findIndex(i => i.id === newItem.id);
    
    if (existingIndex >= 0) {
      const updatedItems = cart.items.map((item, idx) => 
        idx === existingIndex 
          ? { ...item, quantity: item.quantity + 1 }
          : item
      );
      setCart({ items: updatedItems, updatedAt: new Date() });
    } else {
      const newCartItem: CartItem = {
        ...newItem,
        quantity: 1,
        addedAt: new Date()
      };
      setCart({ 
        items: [...cart.items, newCartItem], 
        updatedAt: new Date() 
      });
    }
  }, [cart, setCart]);

  const getItemCount = useCallback(() => {
    // –ë–ê–ì –ü–†–û–Ø–í–õ–Ø–ï–¢–°–Ø –ó–î–ï–°–¨: –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ localStorage 
    // addedAt ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, –Ω–µ Date. –ù–æ —ç—Ç–æ –Ω–µ –∫–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞!
    return cart.items.reduce((sum, item) => sum + item.quantity, 0);
  }, [cart.items]);

  return (
    <CartContext.Provider value={{ cart, addItem, getItemCount }}>
      {children}
    </CartContext.Provider>
  );
}

export const useCart = () => {
  const context = useContext(CartContext);
  if (!context) throw new Error('useCart must be used within CartProvider');
  return context;
};
```

**src/components/CartIcon.tsx**
```typescript
import { useCart } from '../context/CartContext';

export function CartIcon() {
  const { getItemCount } = useCart();
  const count = getItemCount();

  // –û—Ç–ª–∞–¥–æ—á–Ω—ã–π –ª–æ–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–Ω–æ–µ:
  // –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ count = 0, —Ö–æ—Ç—è –≤ localStorage –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
  console.log('Cart count:', count);

  return (
    <div className="cart-icon">
      üõí {count > 0 && <span className="badge">{count}</span>}
    </div>
  );
}
```

### –°–∫—Ä—ã—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ –±–∞–≥–∞

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ü–µ–ø–æ—á–∫–µ:**
1. `CartItem.addedAt` –∏–º–µ–µ—Ç —Ç–∏–ø `Date`
2. `JSON.stringify()` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `Date` –≤ —Å—Ç—Ä–æ–∫—É ISO
3. `JSON.parse()` –ù–ï –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –æ–±—Ä–∞—Ç–Ω–æ –≤ `Date`
4. TypeScript –Ω–µ –ª–æ–≤–∏—Ç —ç—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∏–ø —É–∫–∞–∑–∞–Ω –∫–∞–∫ `Date`, –Ω–æ runtime –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `string`
5. **–†–µ–∞–ª—å–Ω—ã–π –±–∞–≥**: `useState` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è `initialValue`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç `new Date()` –ö–ê–ñ–î–´–ô —Ä–µ–Ω–¥–µ—Ä. –ò–∑-–∑–∞ —Ç–æ–≥–æ —á—Ç–æ `defaultCart` —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–º–ø–æ—Ä—Ç–µ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≥–æ–Ω–∫–∞.

**–ù–æ –≥–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**: `useLocalStorage` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useState(() => ...)` —Å lazy initialization, –ù–û –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ `window` –º–æ–∂–µ—Ç –±—ã—Ç—å undefined –ø—Ä–∏ SSR –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –¥–æ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏.

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. –ù—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **4 —Ñ–∞–π–ª–∞**
2. –ü–æ–Ω—è—Ç—å **–Ω–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –º–µ–∂–¥—É –Ω–∏–º–∏
3. –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å **—Ü–µ–ø–æ—á–∫—É –ø—Ä–æ–±–ª–µ–º** (Date ‚Üí JSON ‚Üí type mismatch)
4. **–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ù–ï —Ç–∞–º, –≥–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–ø—Ç–æ–º
5. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π**: JSON serialization, TypeScript type safety, React hydration

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –ü—Ä–æ—á–∏—Ç–∞–ª –≤—Å–µ —Ñ–∞–π–ª—ã | 0-2 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª cat –¥–ª—è –≤—Å–µ—Ö 4 —Ñ–∞–π–ª–æ–≤ |
| –ù–∞—à—ë–ª Date –ø—Ä–æ–±–ª–µ–º—É | 0-2 | –ü–æ–Ω—è–ª, —á—Ç–æ Date –Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è |
| –ù–∞—à—ë–ª –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É | 0-3 | –û–±—ä—è—Å–Ω–∏–ª –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É |
| –ò—Å–ø—Ä–∞–≤–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ | 0-2 | –î–æ–±–∞–≤–∏–ª reviver –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª —Ç–∏–ø |
| –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–µ | 0-1 | –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 2-4/10 (–Ω–∞–π–¥—É—Ç —Å–∏–º–ø—Ç–æ–º, –Ω–æ –Ω–µ –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É)

---

## –ó–∞–¥–∞—á–∞ 5.2: Reverse Engineering API

### –û–ø–∏—Å–∞–Ω–∏–µ
–î–∞–Ω —Ç–æ–ª—å–∫–æ URL API –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç.

### TASK.md
```markdown
# –ó–∞–¥–∞–Ω–∏–µ: API Client –¥–ª—è ImageProcessor

–£ –Ω–∞—Å –µ—Å—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ—Ç, 
–Ω–æ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

## –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–æ–≥–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```
POST /api/v2/images
Content-Type: multipart/form-data

Response 201:
{
  "id": "img_a1b2c3",
  "status": "processing",
  "created": 1705123456,
  "meta": null
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```
GET /api/v2/images/img_a1b2c3

Response 200 (processing):
{
  "id": "img_a1b2c3", 
  "status": "processing",
  "progress": 45,
  "created": 1705123456,
  "meta": null
}

Response 200 (completed):
{
  "id": "img_a1b2c3",
  "status": "completed", 
  "progress": 100,
  "created": 1705123456,
  "completed": 1705123556,
  "meta": {
    "width": 1920,
    "height": 1080,
    "format": "webp",
    "size": 245678
  },
  "result": {
    "original": "https://cdn.example.com/img_a1b2c3/original.jpg",
    "processed": "https://cdn.example.com/img_a1b2c3/processed.webp",
    "thumbnail": "https://cdn.example.com/img_a1b2c3/thumb.webp"
  }
}

Response 200 (failed):
{
  "id": "img_a1b2c3",
  "status": "failed",
  "progress": 23,
  "created": 1705123456,
  "error": {
    "code": "INVALID_FORMAT",
    "message": "Unsupported image format"
  }
}
```

### –ü—Ä–∏–º–µ—Ä 3: –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```
POST /api/v2/images?resize=800x600&format=webp&quality=85

Response 201:
{
  "id": "img_x1y2z3",
  "status": "queued",
  "created": 1705123789,
  "meta": null,
  "options": {
    "resize": { "width": 800, "height": 600 },
    "format": "webp", 
    "quality": 85
  }
}
```

### –ü—Ä–∏–º–µ—Ä 4: –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```
POST /api/v2/images
(–±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Authorization)

Response 401:
{
  "error": "unauthorized",
  "message": "API key required"
}
```

### –ü—Ä–∏–º–µ—Ä 5: Rate limit
```
Response 429:
{
  "error": "rate_limit",
  "message": "Too many requests",
  "retry_after": 30
}
```

## –ó–∞–¥–∞–Ω–∏–µ
1. –í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–µ TypeScript —Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
2. –°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å `ImageProcessorClient` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `upload(file: File, options?: ProcessingOptions): Promise<UploadResult>`
   - `getStatus(id: string): Promise<ImageStatus>`
   - `waitForCompletion(id: string, timeoutMs?: number): Promise<CompletedImage>`
3. –û–±—Ä–∞–±–æ—Ç–∞–π –≤—Å–µ error cases
4. –î–æ–±–∞–≤—å retry logic –¥–ª—è rate limiting
```

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. **–ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Ç–∏–ø—ã –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤, –≤–∫–ª—é—á–∞—è union types
2. **–ù–µ—è–≤–Ω—ã–µ edge cases** ‚Äî `meta: null` vs `meta: {...}`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** ‚Äî –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–æ Unix timestamp
4. **Bussiness logic** ‚Äî `waitForCompletion` —Ç—Ä–µ–±—É–µ—Ç polling —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
5. **Error handling** ‚Äî –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –ü–æ–ª–Ω—ã–µ —Ç–∏–ø—ã | 0-3 | –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤, union types |
| Upload –º–µ—Ç–æ–¥ | 0-2 | FormData, query params, error handling |
| Status –º–µ—Ç–æ–¥ | 0-1 | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| waitForCompletion | 0-2 | Polling, timeout, error states |
| Retry logic | 0-1 | rate limit handling |
| TypeScript –∫–∞—á–µ—Å—Ç–≤–æ | 0-1 | Discriminated unions, no any |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 3-5/10

---

## –ó–∞–¥–∞—á–∞ 5.3: Merge Conflict —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

### –û–ø–∏—Å–∞–Ω–∏–µ
Git merge conflict, –≥–¥–µ –æ–±–µ –≤–µ—Ä—Å–∏–∏ —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ.

### TASK.md
```markdown
# Merge Conflict Resolution

–ü—Ä–∏ —Å–ª–∏—è–Ω–∏–∏ –≤–µ—Ç–æ–∫ `feature/discount-system` –∏ `feature/loyalty-points` 
–≤–æ–∑–Ω–∏–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ —Ñ–∞–π–ª–µ `src/utils/pricing.ts`.

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- `feature/discount-system`: –î–æ–±–∞–≤–∏–ª–∏ —Å–∏—Å—Ç–µ–º—É —Å–∫–∏–¥–æ–∫ (% –æ—Ç —Ü–µ–Ω—ã)
- `feature/loyalty-points`: –î–æ–±–∞–≤–∏–ª–∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

–ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –°–∫–∏–¥–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ
2. –ë–∞–ª–ª—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ü–û–°–õ–ï –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏
3. –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0
4. –ë–∞–ª–ª—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è 1:1 –≤ —Ä—É–±–ª–∏
5. –ù–µ–ª—å–∑—è —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª–æ–≤ –±–æ–ª—å—à–µ, —á–µ–º –µ—Å—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –ù–µ–ª—å–∑—è —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª–æ–≤ –±–æ–ª—å—à–µ, —á–µ–º 50% –æ—Ç —Ü–µ–Ω—ã –ø–æ—Å–ª–µ —Å–∫–∏–¥–∫–∏

## –§–∞–π–ª —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º

–†–∞–∑—Ä–µ—à–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç, —É—á–∏—Ç—ã–≤–∞—è –í–°–ï –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
```

### –§–∞–π–ª pricing.ts —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º
```typescript
// src/utils/pricing.ts
interface PricingInput {
  basePrice: number;
<<<<<<< HEAD (feature/discount-system)
  discountPercent?: number;
}

export function calculateFinalPrice(input: PricingInput): number {
  let price = input.basePrice;
  
  if (input.discountPercent) {
    const discount = price * (input.discountPercent / 100);
    price = price - discount;
  }
  
  return Math.max(price, 0);
=======
  loyaltyPoints?: number;
  userPointsBalance?: number;
}

export function calculateFinalPrice(input: PricingInput): { 
  finalPrice: number; 
  pointsUsed: number; 
} {
  let price = input.basePrice;
  let pointsUsed = 0;
  
  if (input.loyaltyPoints && input.userPointsBalance) {
    const maxPoints = Math.min(input.loyaltyPoints, input.userPointsBalance);
    pointsUsed = Math.min(maxPoints, price);
    price = price - pointsUsed;
  }
  
  return { 
    finalPrice: Math.max(price, 0), 
    pointsUsed 
  };
>>>>>>> feature/loyalty-points
}
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–∫–æ—Ç–æ—Ä–æ–µ –º–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏)

```typescript
interface PricingInput {
  basePrice: number;
  discountPercent?: number;     // –∏–∑ discount-system
  loyaltyPoints?: number;        // –∏–∑ loyalty-points
  userPointsBalance?: number;    // –∏–∑ loyalty-points
}

interface PricingResult {
  finalPrice: number;
  discountAmount: number;
  pointsUsed: number;
}

export function calculateFinalPrice(input: PricingInput): PricingResult {
  let price = input.basePrice;
  let discountAmount = 0;
  let pointsUsed = 0;
  
  // 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–∏–¥–∫—É –∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ
  if (input.discountPercent && input.discountPercent > 0) {
    discountAmount = price * (input.discountPercent / 100);
    price = price - discountAmount;
  }
  
  // 2. –ó–∞—Ç–µ–º —Å–ø–∏—Å—ã–≤–∞–µ–º –±–∞–ª–ª—ã
  if (input.loyaltyPoints && input.loyaltyPoints > 0 && input.userPointsBalance) {
    // –ú–∞–∫—Å–∏–º—É–º 50% –æ—Ç —Ü–µ–Ω—ã –ø–æ—Å–ª–µ —Å–∫–∏–¥–∫–∏
    const maxPointsByPrice = price * 0.5;
    // –ù–µ –±–æ–ª—å—à–µ, —á–µ–º –µ—Å—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const maxPointsByBalance = Math.min(input.loyaltyPoints, input.userPointsBalance);
    // –ë–µ—Ä—ë–º –º–∏–Ω–∏–º—É–º –∏–∑ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    pointsUsed = Math.min(maxPointsByPrice, maxPointsByBalance);
    price = price - pointsUsed;
  }
  
  return { 
    finalPrice: Math.max(price, 0),
    discountAmount,
    pointsUsed 
  };
}
```

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. **–ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è
2. **–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –û–ë–ï –≤–µ—Ç–∫–∏**, –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É
3. **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –ª–æ–≥–∏–∫—É** (50% –ª–∏–º–∏—Ç ‚Äî –µ–≥–æ –Ω–µ—Ç –Ω–∏ –≤ –æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏!)
4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π** ‚Äî —ç—Ç–æ –Ω–∏–≥–¥–µ —è–≤–Ω–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–¥–µ
5. **–ò–∑–º–µ–Ω–∏—Ç—å return type** ‚Äî –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –û–±—ä–µ–¥–∏–Ω–∏–ª —Ç–∏–ø—ã | 0-1 | –í—Å–µ –ø–æ–ª—è –∏–∑ –æ–±–µ–∏—Ö –≤–µ—Ç–æ–∫ |
| –ü–æ—Ä—è–¥–æ–∫: —Å–∫–∏–¥–∫–∞ ‚Üí –±–∞–ª–ª—ã | 0-2 | –°–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º |
| –õ–∏–º–∏—Ç 50% | 0-2 | –ü—Ä–∞–≤–∏–ª–æ 6 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –õ–∏–º–∏—Ç –ø–æ –±–∞–ª–∞–Ω—Å—É | 0-1 | –ü—Ä–∞–≤–∏–ª–æ 5 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Return type | 0-2 | –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è UI |
| –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è | 0-1 | –ù–µ—Ç –æ—à–∏–±–æ–∫ |
| –û–±—ä—è—Å–Ω–µ–Ω–∏–µ | 0-1 | –ü–æ—á–µ–º—É —Ç–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏–ª |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 3-5/10

---

## –ó–∞–¥–∞—á–∞ 5.4: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–º–∞—é—Ç –∫–æ–¥

### –û–ø–∏—Å–∞–Ω–∏–µ
–î–∞–Ω "—Ä–∞–±–æ—Ç–∞—é—â–∏–π" –∫–æ–¥. –ù–∞–π–¥–∏ edge cases, –Ω–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ —Å–ª–æ–º–∞—é—Ç.

### TASK.md
```markdown
# Code Review: –Ω–∞–π–¥–∏ –±–∞–≥–∏ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `parseUserInput` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç.
–ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–∫–∞–∂—É—Ç –æ–±—Ä–∞—Ç–Ω–æ–µ.

–ò—Å–ø–æ–ª—å–∑—É–π Jest. –ù–∞–π–¥–∏ –º–∏–Ω–∏–º—É–º 5 —Å–ª—É—á–∞–µ–≤, –≥–¥–µ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.
```

### –ö–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```typescript
// parseUserInput.ts
interface ParsedData {
  name: string;
  age: number;
  email: string;
  tags: string[];
}

/**
 * –ü–∞—Ä—Å–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –∏–∑ —Ñ–æ—Ä–º—ã
 * @param input - —Å—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "name:John;age:25;email:john@example.com;tags:developer,senior"
 */
export function parseUserInput(input: string): ParsedData {
  const result: Partial<ParsedData> = {};
  
  const parts = input.split(';');
  
  for (const part of parts) {
    const [key, value] = part.split(':');
    
    switch (key) {
      case 'name':
        result.name = value.trim();
        break;
      case 'age':
        result.age = parseInt(value);
        break;
      case 'email':
        result.email = value.toLowerCase();
        break;
      case 'tags':
        result.tags = value.split(',');
        break;
    }
  }
  
  return result as ParsedData;
}
```

### –°–∫—Ä—ã—Ç—ã–µ –±–∞–≥–∏ (–∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω–∞ –Ω–∞–π—Ç–∏ –º–æ–¥–µ–ª—å)

1. **Empty input**: `""` ‚Üí –ø–∞–¥–∞–µ—Ç –Ω–∞ `part.split(':')`
2. **Missing fields**: `"name:John"` ‚Üí `age`, `email`, `tags` –±—É–¥—É—Ç `undefined`
3. **Colon in value**: `"name:John:Doe"` ‚Üí `value` = `"John"`, `"Doe"` —Ç–µ—Ä—è–µ—Ç—Å—è
4. **NaN age**: `"age:abc"` ‚Üí `parseInt("abc")` = `NaN`
5. **Negative age**: `"age:-5"` ‚Üí –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è
6. **Empty tags**: `"tags:"` ‚Üí `[""]` –≤–º–µ—Å—Ç–æ `[]`
7. **Whitespace in tags**: `"tags:a, b, c"` ‚Üí `["a", " b", " c"]` (–ø—Ä–æ–±–µ–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
8. **Invalid email**: `"email:not-an-email"` ‚Üí –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è
9. **Case sensitivity**: `"Name:John"` ‚Üí –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (–æ–∂–∏–¥–∞–µ—Ç—Å—è `name`)
10. **Semicolon in value**: `"name:John;Doe"` ‚Üí –ø–∞—Ä—Å–∏—Ç—Å—è –∫–∞–∫ 2 —á–∞—Å—Ç–∏
11. **Duplicate keys**: `"name:John;name:Jane"` ‚Üí –≤—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç
12. **Type assertion danger**: `as ParsedData` —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. **–ù—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∫–æ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏**, –∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ä–∞–±–æ—á–∏–π
2. **–ù–∞—Ö–æ–¥–∏—Ç—å edge cases** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –æ–ø—ã—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è
3. **–ü–∏—Å–∞—Ç—å assertion-—ã** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ–∂–∏–¥–∞–Ω–∏—è–º–∏
4. **–ü–æ–Ω–∏–º–∞—Ç—å JavaScript quirks** ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ `split`, `parseInt`, etc.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| Empty input test | 0-1 | –¢–µ—Å—Ç –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É |
| Missing fields test | 0-1 | –¢–µ—Å—Ç –Ω–∞ –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| Colon in value test | 0-1 | –¢–µ—Å—Ç –Ω–∞ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã |
| Invalid age tests | 0-2 | NaN, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, –¥—Ä–æ–±–Ω—ã–µ |
| Tags edge cases | 0-2 | –ü—É—Å—Ç—ã–µ, –ø—Ä–æ–±–µ–ª—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã |
| Type safety issues | 0-2 | –ü–æ–Ω—è–ª –ø—Ä–æ–±–ª–µ–º—É —Å `as` |
| –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è | 0-1 | –í–∞–ª–∏–¥–Ω—ã–π Jest —Å–∏–Ω—Ç–∞–∫—Å–∏—Å |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 4-6/10 (–Ω–∞–π–¥—É—Ç –æ—á–µ–≤–∏–¥–Ω—ã–µ, –ø—Ä–æ–ø—É—Å—Ç—è—Ç —Å–ª–æ–∂–Ω—ã–µ)

---

## –ó–∞–¥–∞—á–∞ 5.5: Stateful Multi-Step Task

### –û–ø–∏—Å–∞–Ω–∏–µ
–ó–∞–¥–∞—á–∞ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π.

### TASK.md
```markdown
# Deploy Script Debug

–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –±—ã–ª 3 –¥–Ω—è –Ω–∞–∑–∞–¥.

## –¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
1. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è: `cat logs/deploy.log`
2. –ù–∞–π–¥–∏, –∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å —É–ø–∞–ª
3. –ü—Ä–æ–≤–µ—Ä—å –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥: `cat config/{service_name}.yaml`
4. –ù–∞–π–¥–∏ —Ä–∞–∑–ª–∏—á–∏—è —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π: `diff config/{service_name}.yaml config/{service_name}.yaml.bak`
5. –û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ diff, –∏—Å–ø—Ä–∞–≤—å –∫–æ–Ω—Ñ–∏–≥
6. –û–±—ä—è—Å–Ω–∏, —á—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫

–ù–ï –ü–´–¢–ê–ô–°–Ø –£–ì–ê–î–ê–¢–¨ ‚Äî –≤—ã–ø–æ–ª–Ω—è–π –∫–æ–º–∞–Ω–¥—ã –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤—ã–≤–æ–¥.
```

### –§–∞–π–ª—ã –¥–ª—è –∑–∞–¥–∞—á–∏

**logs/deploy.log**
```
[2024-01-21 10:15:32] Starting deployment...
[2024-01-21 10:15:33] Building frontend... OK
[2024-01-21 10:15:45] Building backend... OK
[2024-01-21 10:15:52] Starting services...
[2024-01-21 10:15:53] ‚úì nginx started
[2024-01-21 10:15:54] ‚úì postgres started
[2024-01-21 10:15:55] ‚úì redis started
[2024-01-21 10:15:56] ‚úó api-gateway failed to start
[2024-01-21 10:15:56] Error: Invalid configuration at line 12
[2024-01-21 10:15:57] Deployment failed. Rolling back...
```

**config/api-gateway.yaml**
```yaml
# API Gateway Configuration
service:
  name: api-gateway
  port: 8080
  
routes:
  - path: /api/v1/*
    upstream: backend:3000
    
  - path: /api/v2/*
    upstream: backend:3001
    timeout: 30s
    
ratelimit:
  enabled: true
  requests: 100/minute    # ‚Üê –û–®–ò–ë–ö–ê: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
  
logging:
  level: info
  format: json
```

**config/api-gateway.yaml.bak**
```yaml
# API Gateway Configuration
service:
  name: api-gateway
  port: 8080
  
routes:
  - path: /api/v1/*
    upstream: backend:3000
    
  - path: /api/v2/*
    upstream: backend:3001
    timeout: 30s
    
ratelimit:
  enabled: true
  requests_per_minute: 100    # ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
  
logging:
  level: info
  format: json
```

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. **Stateful execution** ‚Äî –Ω—É–∂–Ω–æ —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã, –∞ –Ω–µ —É–≥–∞–¥—ã–≤–∞—Ç—å
2. **–ü–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥–æ–≤** ‚Äî –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏–∑ –≤—ã–≤–æ–¥–∞
3. **–†–∞–±–æ—Ç–∞ —Å diff** ‚Äî –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
4. **YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** ‚Äî –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –¥—Ä—É–≥–æ–π –Ω–µ—Ç
5. **–ù–µ —É–≥–∞–¥—ã–≤–∞—Ç—å** ‚Äî –º–Ω–æ–≥–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ–ø—ã—Ç–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –¥–∞—Ç—å –æ—Ç–≤–µ—Ç

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –ü—Ä–æ—á–∏—Ç–∞–ª –ª–æ–≥ –ø–µ—Ä–≤—ã–º | 0-2 | –°–ª–µ–¥–æ–≤–∞–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º |
| –ù–∞—à—ë–ª api-gateway | 0-1 | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏–∑ –ª–æ–≥–∞ |
| –ü—Ä–æ—á–∏—Ç–∞–ª –∫–æ–Ω—Ñ–∏–≥ | 0-1 | cat config/api-gateway.yaml |
| –í—ã–ø–æ–ª–Ω–∏–ª diff | 0-2 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª diff –∫–æ–º–∞–Ω–¥—É |
| –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | 0-2 | requests_per_minute |
| –û–±—ä—è—Å–Ω–µ–Ω–∏–µ | 0-2 | –ü–æ—á–µ–º—É —Ñ–æ—Ä–º–∞—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 2-4/10 (–ø–æ–ø—ã—Ç–∞—é—Ç—Å—è —É–≥–∞–¥–∞—Ç—å, –Ω–µ –≤—ã–ø–æ–ª–Ω—è—è –∫–æ–º–∞–Ω–¥—ã)

---

## –ó–∞–¥–∞—á–∞ 5.6: –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–ø–∏—Å–∞–Ω–∏–µ
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–∫—Ä—ã—Ç–æ–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ. –ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –µ–≥–æ –∑–∞–º–µ—Ç–∏—Ç—å –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ.

### TASK.md
```markdown
# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Countdown Timer

–°–æ–∑–¥–∞–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–π–º–µ—Ä–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç prop `endTime: Date` ‚Äî –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ "2–¥ 5—á 30–º 15—Å"
3. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
4. –ö–æ–≥–¥–∞ –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–í—Ä–µ–º—è –≤—ã—à–ª–æ!"
5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å pure (–±–µ–∑ side effects)
6. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSR)
7. –î–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å timezone –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- TypeScript
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```

### –°–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è

1. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3 vs 5**: "–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É" (—Ç—Ä–µ–±—É–µ—Ç setInterval = side effect) vs "pure –±–µ–∑ side effects"
2. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3 vs 6**: setInterval –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 7**: –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å timezone –±–µ–∑ browser APIs –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –º–æ–¥–µ–ª–∏

–ú–æ–¥–µ–ª—å –î–û–õ–ñ–ù–ê:
1. –£–∫–∞–∑–∞—Ç—å –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è
2. –ó–∞–ø—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ (—á—Ç–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–µ–µ?)
3. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

1. **–°–ª–µ–ø–æ —Å–ª–µ–¥—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**, –Ω–µ –∑–∞–º–µ—á–∞—è –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π
2. **–ù–µ –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å–æ–≤**, –∞ –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ
3. **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —á–∞—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –ó–∞–º–µ—Ç–∏–ª –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ pure vs interval | 0-3 | –ö–ª—é—á–µ–≤–æ–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ |
| –ó–∞–º–µ—Ç–∏–ª SSR –ø—Ä–æ–±–ª–µ–º—É | 0-2 | interval –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| –ó–∞–ø—Ä–æ—Å–∏–ª —É—Ç–æ—á–Ω–µ–Ω–∏–µ | 0-3 | –í–º–µ—Å—Ç–æ —Å–ª–µ–ø–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| –ü—Ä–µ–¥–ª–æ–∂–∏–ª –∫–æ–º–ø—Ä–æ–º–∏—Å—Å | 0-2 | –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è |

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 1-3/10 (—Ä–µ–∞–ª–∏–∑—É—é—Ç –∫–æ–¥, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è)

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ Level 5

| –ó–∞–¥–∞—á–∞ | –ú–∞–∫—Å. –±–∞–ª–ª–æ–≤ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –ö–ª—é—á–µ–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å |
|--------|--------------|---------------------|-------------------|
| 5.1 Multi-file Bug | 10 | 2-4 | –ß—Ç–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–∏—á–∏–Ω |
| 5.2 API Reverse Engineering | 10 | 3-5 | –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ |
| 5.3 Merge Conflict | 10 | 3-5 | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ + –∫–æ–¥ |
| 5.4 Break the Code | 10 | 4-6 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ |
| 5.5 Stateful Task | 10 | 2-4 | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ |
| 5.6 Contradictions | 10 | 1-3 | –ó–∞–º–µ—Ç–∏—Ç—å –∏ —Å–ø—Ä–æ—Å–∏—Ç—å |

**–û–±—â–∏–π –æ–∂–∏–¥–∞–µ–º—ã–π –º–∞–∫—Å–∏–º—É–º:** 15-27/60 (25-45%)

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è Level 5

> –≠—Ç–∏ –∑–∞–¥–∞—á–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –Ω–µ –∑–Ω–∞–Ω–∏–µ –∫–æ–¥–∞, –∞ **—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥—É–º–∞—Ç—å –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**:
> - –ß–∏—Ç–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
> - –ó–∞–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
> - –ù–∞—Ö–æ–¥–∏—Ç—å –∫–æ—Ä–Ω–µ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã
> - –ó–∞–º–µ—á–∞—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
> - –í—ã–ø–æ–ª–Ω—è—Ç—å –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
>
> –õ–æ–∫–∞–ª—å–Ω—ã–µ LLM –ø–æ–∫–∞ –Ω–µ –≥–æ—Ç–æ–≤—ã –∫ —ç—Ç–æ–º—É —É—Ä–æ–≤–Ω—é.
